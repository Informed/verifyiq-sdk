<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      body {
        width: 100vw;
        height: 100vh;
        margin: 0;
      }
      #root {
        width: 100%;
        height: 100%;
      }
      #buttons {
        position: absolute;
      }
    </style>
  </head>
  <body>
    <div id="buttons">
      <button id="render">Render VerifyIQ</button>
      <button id="auth-popup">SAML in PopUp</button>
      <button id="auth-window">SAML in Window</button>
    </div>

    <div id="root"></div>
    <script src="../dist/index.js"></script>
    <script>
      const viq = new VerifyIQ({
        url: "https://a317e41c7f3f.ngrok.io",
        applicationId:
          "x2sample-3-Q2___Q4_Paystub_with_unnecessary_Prior_Year_W_2__No_Additional_Earnings-2020-04-09T10:37:22",
        onPass: function (actionObject, reason) {
          /* Stipulation action handler */
          console.log("Pass", actionObject, reason);
        },

        onIncomplete: function (actionObject, reason) {
          /* Stipulation action handler */
          console.log("Incomplete", actionObject, reason);
        },

        onWaive: function (actionObject, reason) {
          /* Stipulation action handler */
          console.log("Waive", actionObject, reason);
        },

        onLoad: function (payload) {
          /* Iframe onLoad event handler */
          console.log("Frame is loaded", payload);
        },
      });

      viq.enableLogging(true);

      const renderBtn = document.querySelector("#render");
      const samlPopupBtn = document.querySelector("#auth-popup");
      const samlWindowBtn = document.querySelector("#auth-window");

      samlPopupBtn.addEventListener("click", () => {
        viq.setAuth(VerifyIQ.auth.Popup);
      });
      samlWindowBtn.addEventListener("click", () => {
        viq.setAuth(VerifyIQ.auth.Tab);
      });

      renderBtn.addEventListener("click", () => {
        viq.render(document.getElementById("root"));
      });
    </script>
  </body>
</html>
